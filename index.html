<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<link rel="manifest" href="manifest.json" />
	<link rel="stylesheet" href="style/index.css" />
	<link rel="stylesheet" href="style/style.css" />
	<!--SEO Junk-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon" />
	<title>Hollow Guessr</title>
	<meta name="description"
		content="Test your knowledge of Hallownest in Hollow Guessr, a Hollow Knight-inspired GeoGuessr game." />
	<meta name="keywords" content="Hollow Knight, GeoGuessr, Hollow Guessr, Hallownest, indie games, guessing game" />
	<meta name="author" content="Logboy2000" />
	<meta property="og:title" content="Hollow Guessr - A Hollow Knight GeoGuessing Game" />
	<meta property="og:description"
		content="Test your knowledge of Hallownest and Pharloom in this interactive guessing game. Can you recognize every location in Hollow Knight?" />
	<meta property="og:image" content="images/social-preview.png" />
	<meta property="og:url" content="https://hollowguessr.pages.dev/" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Hollow Guessr - A Hollow Knight GeoGuessing Game" />
	<meta name="twitter:description"
		content="Guess the locations in Hallownest with Hollow Guessr, a fan-made Hollow Knight GeoGuessr clone." />
	<meta name="twitter:image" content="images/social-preview.png" />
	<!--End of SEO Junk-->
	<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-app-compat.js"></script>
	<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-database-compat.js"></script>

</head>

<body>
	<img src="images/logo.png" alt="Hollow Guessr logo - A Hollow Knight GeoGuessing Game" id="title-image"
		class="moving" />
	<p id="magicText"></p>
	<br>
	<div class="button-container moving">
		<a class="hk-button" href="game.html">
			Play
		</a>
		<a class="hk-button" href="editor.html">
			Pack Editor
		</a>
		<a class="hk-button" href="https://discord.gg/cr2CU4eFgg" target="_blank" rel="noopener noreferrer">
			Discord
		</a>
		<a class="hk-button" href="https://github.com/Logboy2000/HKGuessr" target="_blank" rel="noopener noreferrer">
			GitHub
		</a>
		<a class="hk-button" href="credits.html">
			Credits
		</a>
	</div>
	<div id="silksong-promo">
		<p>
			Thanks to Biticalifi for the first Silksong image pack!
			<br>
		<p>The pack contains the following areas for<span style="color: rgb(255, 90, 90);"> Act 3 </span></p>
		<details>
			<summary style="cursor: pointer;">Press to Expand</summary>
			<ul>
				<li>Moss Grotto</li>
				<li>The Marrow</li>
				<li>Deep Docks</li>
				<li>Hunters March</li>
				<li>Far Fields</li>
				<li>Greymoor</li>
				<li class="spoiler">Bellhart</li>
				<li class="spoiler">Shellwood</li>
				<li class="spoiler">Wormways</li>
				<li class="spoiler">Blasted Steps</li>
				<li class="spoiler">Weavenest Alta</li>
				<li class="spoiler">Sand of Karak</li>
				<li class="spoiler">Grand Gate</li>
				<li class="spoiler">Underworks</li>
				<li class="spoiler">Wisp Thicket</li>
			</ul>
		</details>

		</p>
		<p>
			<a href="editor.html">Get started with the editor to add more!</a>
		</p>
	</div>
	<div id="footer-info">
		<span>v1.12.1</span>
		<span>A game by
			<a href="https://loganhowarth.pages.dev/" target="_blank" rel="noopener noreferrer"
				style="text-decoration: underline;">Logboy2000</a></span>
	</div>
	<!--Magic Text-->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBZhZ5ONdvvGS0FbOC-BhmTWZgp0d8bqWc",
            authDomain: "hollowguessrbackend.firebaseapp.com",
            databaseURL: "https://hollowguessrbackend-default-rtdb.firebaseio.com",
            projectId: "hollowguessrbackend",
            storageBucket: "hollowguessrbackend.firebasestorage.app",
            messagingSenderId: "468117202388",
            appId: "1:468117202388:web:1ad209b0fe18dbc9692241"
        };
        firebase.initializeApp(firebaseConfig);

        const db = firebase.database();
        const textRef = db.ref("liveText");

        textRef.on("value", (snapshot) => {
			// I loooove html injection
            const magicTextElement = document.getElementById("magicText");
            const newText = snapshot.val() || "";
            
            // Only animate if there's new text and it's different from current
            if (newText && newText !== magicTextElement.innerHTML) {
                // Remove animation class first to reset
                magicTextElement.classList.remove("animate");
                
                // Force reflow to ensure class removal is processed
                void magicTextElement.offsetWidth;
                
                // Update text
                magicTextElement.innerHTML = newText;
                
                // Add animation class to trigger animation
                magicTextElement.classList.add("animate");
                
                // Remove animation class after animation completes
                setTimeout(() => {
                    magicTextElement.classList.remove("animate");
                }, 800);
            } else if (!newText) {
                magicTextElement.innerHTML = "";
            }
        });
    </script>
</body>

</html>